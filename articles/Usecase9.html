<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Use Case 09: Preparation of datasets for `CRTspat` • CRTspat</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use Case 09: Preparation of datasets for `CRTspat`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CRTspat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Usecase1.html">Use Case 01: Algorithmic specification of clusters</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase10.html">Use Case 10: Power sample size and bias calculations using a diffusion model for spillover</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase2.html">Use Case 02: Simulation of trials with geographical spillover</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase3.html">Use Case 03: Estimation of intracluster correlations (ICC) by cluster size</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase4.html">Use Case 04: Estimation of optimal cluster size for a trial with pre-determined buffer width</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase5.html">Use Case 05: Analysis of trials (including methods for analysing spillover)</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase6.html">Use Case 06: Thematic mapping of the geography of a CRT</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase7.html">Use Case 07: Power and sample size calculations allowing for spillover</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase8.html">Use Case 08: Eggs - to fry or scramble?</a></li>
    <li><a class="dropdown-item" href="../articles/Usecase9.html">Use Case 09: Preparation of datasets for `CRTspat`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Use Case 09: Preparation of datasets for `CRTspat`</h1>
            
      

      <div class="d-none name"><code>Usecase9.Rmd</code></div>
    </div>

    
    
<p>The starting point for the analyses is the co-ordinates for the
spatial units that are to be randomized. These can be provided as
lat-long coordinates, or as Cartesian point co-ordinates. Geolocated
data from completed field studies or trials in progress can be read into
<code>CRTspat</code> in the form of data frames, preferably with one
record for each location in the trial. Pre-existing data from the field
should be coded as follows:</p>
<table class="table">
<colgroup>
<col width="30%">
<col width="16%">
<col width="53%">
</colgroup>
<thead><tr class="header">
<th>Description of variable</th>
<th>Variable name</th>
<th>Type and values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>x-coordinates of locations</td>
<td>x</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td>x-coordinates of locations</td>
<td>y</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td>cluster assignment</td>
<td>cluster</td>
<td>factor</td>
</tr>
<tr class="even">
<td>arm assignment</td>
<td>arm</td>
<td>factor with levels “Control” and “Intervention”</td>
</tr>
<tr class="odd">
<td>buffer assignment</td>
<td>buffer</td>
<td>logical (TRUE for locations in the buffer)</td>
</tr>
</tbody>
</table>
<p>Users might want to include an ID variable in the data frame if they
intend to link the outputs back to other datasets. Other variables,
including baseline data or trial outcomes may also be included.</p>
<table class="table">
<thead><tr class="header">
<th>Description of variable</th>
<th>Default Variable name</th>
<th>Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Baseline numerator</td>
<td>base_num</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td>Baseline denominator</td>
<td>base_denom</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td>Numerator</td>
<td>num</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td>Denominator</td>
<td>denom</td>
<td>Numeric</td>
</tr>
</tbody>
</table>
<p>Simulated co-ordinate sets can also be generated <em>de novo</em>
(function <a href="../reference/CRTsp.html"><code>CRTsp()</code></a>)
for use in methods development and testing.</p>
<p>To make it possible to share data files without compromising
confidentiality the <a href="../reference/anonymize_site.html"><code>anonymize_site()</code></a>
function is provided. This removes absolute geolocations and applies a
transformation to the coordinates to conserve distances between them but
modifying the orientation.</p>
<p>The <a href="../reference/latlong_as_xy.html"><code>latlong_as_xy</code></a>
function is available to convert co-ordinates provided as decimal
degrees into Cartesian co-ordinates with units of km with centroid
(0,0). If the input co-ordinates are provided using a different
projection then they must be converted externally to the package.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
